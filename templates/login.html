<!-- templates/login.html -->

{% extends "base.html" %}

{% block content %}
<div class="column is-4 is-offset-4">
    <div class="box">
        <h3 class="title">Authentication</h3>
        <form method="POST" action="/login">
            
            <div class="field">
                <div class="control">
                    <input class="input is-large" type="email" name="email" placeholder="Email" autofocus="">
                </div>
            </div>

            <div class="field">
                <div class="control">
                    <input class="input is-large" type="password" name="password" placeholder="Password">
                </div>
            </div>
            <div class="row">
                <div>
                    <button class="button is-block is-info is-large is-fullwidth">Log in</button>
                </div>
                <div>
                    <a href="http://127.0.0.1:5000/register" class="text-light">Sign up</a>
                </div>
            </div>
            
           
        </form>
        </div>
        {% with message = get_flashed_messages(with_categories=true) | last %}
            {% if message %}
                <div id="flash-message" class="notification {% if message[0] %} is-danger {% endif %}">
                    {{ message[1] }}
                </div>

                <script>
                    setTimeout(function() {
                        var flashMessage = document.getElementById('flash-message');
                        if (flashMessage) {
                            flashMessage.style.display = 'none';
                        }
                    }, 3000);  // 3000 milliseconds = 3 seconds
                </script>
            {% endif %}
        {% endwith %}
    </div>
</div>
{% endblock %}